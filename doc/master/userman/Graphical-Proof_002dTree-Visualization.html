---
layout: doc
title: Documentation
---

<div class="header">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="/doc/master/userman/Subterm-Activation-and-Proof-by-Pointing#Subterm-Activation-and-Proof-by-Pointing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/Customizing-Proof-General#Customizing-Proof-General" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/index#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/ProofGeneral_toc#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/Function-Index#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/ProofGeneral_abt#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
</div>

<hr size="2">
<a class="anchor" id="Graphical-Proof_002dTree-Visualization"></a>
<a class="anchor" id="Graphical-Proof_002dTree-Visualization-1"></a>
<h1 class="chapter">7. Graphical Proof-Tree Visualization</h1>
<a class="anchor" id="index-proof_002dtree-visualization"></a>

<p>Since version 4.5, Proof General (again) supports proof-tree
visualization on graphical desktops via the additional program
Prooftree. Currently, proof-tree visualization is only supported for
the Coq proof assistant. (Proof-tree visualization was already
supported in version 4.2 but then discontinued in 2017 when Coq 8.7
dropped the variant of <code>Show Goal</code> that prooftree relied on.)
</p>
<p>This version of Proof General requires Prooftree version 0.14.
Check the <a href="http://askra.de/software/prooftree/">Prooftree website</a>,
to see if some later versions are also compatible. (Because of
the communication protocol, Proof General is always only
compatible with certain versions of Prooftree.)
</p>

<p>For installation instructions and
more detailed information about Prooftree, please refer to the
<a href="http://askra.de/software/prooftree/">Prooftree website</a> and
the <a href="http://askra.de/software/prooftree/prooftree.man.html">Prooftree man page</a>. For information about how to support
proof-tree visualization for a different proof assistant, see
Section <i>Configuring Proof-Tree Visualization</i> in the
<i>Adapting Proof General</i> manual.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Starting-and-Stopping-Proof_002dTree-Visualization">7.1 Starting and Stopping Proof-Tree Visualization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Features-of-Prooftree">7.2 Features of Prooftree</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Prooftree-Customization">7.3 Prooftree Customization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a class="anchor" id="Starting-and-Stopping-Proof_002dTree-Visualization"></a>
<a class="anchor" id="Starting-and-Stopping-Proof_002dTree-Visualization-1"></a>
<h2 class="section">7.1 Starting and Stopping Proof-Tree Visualization</h2>

<p>When proof-tree visualization is supported (currently only for
the Coq proof assistant), you can start the visualization via the
proof-tree button in the tool-bar, via the menu 
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">   Proof-General -&gt; Start/Stop Prooftree
</pre></td></tr></table>
<p>or via the keyboard shortcut <kbd>C-c C-d</kbd>, all of which invoke
<code>proof-tree-external-display-toggle</code>.
</p>
<p>If you are inside a proof, the graphical display is started
immediately for your current proof. Otherwise the display starts
as soon as you start the next proof. Starting the proof-tree
display in the middle of a proof involves an automatic
reexecution of your current proof script in the locked region,
which should be almost unnoticeable, except for the time it
takes.
</p>
<p>The proof-tree display stops at the end of the proof or when you
invoke <code>proof-tree-external-display-toggle</code> by one of the
three indicated means again. Alternatively you can also close the
proof-tree window. 
</p>
<p>Proof General launches only one instance of Prooftree,
which can manage an arbitrary amount of proof-tree windows. 
</p>
<hr size="6">
<a class="anchor" id="Features-of-Prooftree"></a>
<a class="anchor" id="Features-of-Prooftree-1"></a>
<h2 class="section">7.2 Features of Prooftree</h2>

<p>The proof-tree window provides visual information about the
status of the different branches in your proof (by coloring
completely proved branches in green, for example) and means for
inspecting previous proof states without the need to retract
parts of your proof script. Currently, Prooftree provides
the following features:
</p>
<ul>
<li> Navigation in the proof tree and display of all previous
proof states and proof commands.
</li><li> Display branches of the proof in different colors according to
their proof state, distinguishing branches with open, partially
or fully instantiated existential variables as well as branches
that have been finished by a cheating command such as
<code>admit</code>.
</li><li> Display the status of existential variables and their
dependencies.
</li><li> Mark proof commands that introduce or instantiate a
given existential variable.
</li><li> Snapshots of proof trees for reference when you retract
your proof to try a different approach.
</li><li> Trigger a retract (undo) operation with a selected sequent
as target.
</li><li> Insert proof scripts from the proof tree in the current buffer.
</li></ul>

<p>For a more elaborated description please consult the help dialog
of Prooftree or the
<a href="http://askra.de/software/prooftree/prooftree.man.html">Prooftree man page</a>.
</p>

<hr size="6">
<a class="anchor" id="Prooftree-Customization"></a>
<a class="anchor" id="Prooftree-Customization-1"></a>
<h2 class="section">7.3 Prooftree Customization</h2>

<p>The location of the Prooftree program and command line
arguments can be configured in the customization group
<code>proof-tree</code>. You can visit this customization group inside
a running instance of Proof General by typing <code>M-x
customize-group &lt;RET&gt; proof-tree &lt;RET&gt;</code>.
</p>
<p>The graphical aspects of the proof-tree rendering, fonts and
colors can be changed inside Prooftree by invoking the
<code>Configuration</code> item of the main menu.
</p>
<p>Prover specific parts such as the regular expressions for
recognizing subgoals, existential variables and navigation and
cheating commands are in the customization group
<code>proof-tree-internals</code>. Under normal circumstances there
should be no need to change one of these internal settings. 
</p>

<hr size="6">
<div class="header">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Graphical-Proof_002dTree-Visualization" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/Customizing-Proof-General#Customizing-Proof-General" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/index#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/ProofGeneral_toc#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/Function-Index#Function-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="/doc/master/userman/ProofGeneral_abt#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
</div>
<p>
 <font size="-1">
  This document was generated on <i>February 23, 2024</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html 1.82</i></a>.
 </font>
 <br>

</p>
